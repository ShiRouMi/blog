# 多维数组
## 目的：
```js
  var arr = [{
        key: 1,
        name: 2,
        job: 3
    }, {
        key: 1,
        name: 22,
        job: 33
    }, {
        key: 2,
        name: 222,
        job: 333
    }, {
        key: 2,
        name: 2222,
        job: 3333
    }];
=> 
 arr2 = [{
    key: 1,
    info: [{
        name: 2,
        job: 3
    }, {
        name: 22,
        job: 33
    }]
}, {
    key: 2,
    info: [{
        name: 222,
        job: 333
    }, {
        name: 2222,
        job: 3333
    }]
}];
```

算法实现
```js
function mergeKey(arr) {
  const keyMap = arr.reduce((r, item)=>{
    const newItem = {...item};
    delete newItem.key;
    r[item.key] = (r[item.key] || []).concat(newItem);
    return r;
  }
  , {});

  return Object.keys(keyMap).map(key=>({
    key,
    info: keyMap[key],
  }));
}

mergeKey(arr)
```

```js
var keys = Array.from(new Set(arr.map(o=>o.key)));
var result = keys.map(key=>{
    return {key: key,
        info: arr.filter(o=>o.key==key).map(o=>({name:o.name, job:o.job}))
    }
});
console.log(result);
```