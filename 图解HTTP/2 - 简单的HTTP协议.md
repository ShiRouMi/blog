# 简单的HTTP协议

## 目录
- 2.1 HTTP协议用于客户端和服务端之间的通信
- 2.2 通过请求和响应的交换达成通信
- 2.3 HTTP 是不保存状态的协议
- 2.4 请求URI 定位资源
- 2.5 告知服务器意图的HTTP方法
- 2.6 使用方法下达命令
- 2.7 持久连接节省通信量
- 2.8 使用Cookie 的状态管理

## important point
- 请求访问文本或图像等资源的一端是客户端，而提供资源响应的一端是服务器端。
- HTTP 协议能够区分哪端是客户端，哪端是服务端
- 「请求报文」是由 请求方法、 请求URI、 协议版本、 可选的请求首部字段和内容实体构成的。
- 「响应报文」基本上由 协议版本、 状态码(请求成功or失败的数字代码)、 用于解释状态码的原因短语、 可选的响应首部字段以及 实体主体构成。
- HTTP 是一种不保存状态，即「无状态协议」， 是为了更快的处理大量事务，确保协议的可伸缩性。
- 当客户端请求访问资源而发送请求时，URI 需要将作为请求报文中的请求URI包含在内。
- 如果不是访问特定资源而是对服务器本身发起请求，可以用一个 * 来代替请求URI


方法       | 说明
--------- | --------
GET       | 获取资源
POST      | 传输实体主体
PUT       | 传输文本 （存在安全性问题）
DELETE    | 删除文件 （不带验证机制，存在安全性问题）
HEAD      | 获得报文首部 （与 GET类型，不返回报文主体部分，用于确认URI的有效性及资源更新的日期时间等）
OPTIONS   | 查询针对请求URI指定的资源支持方法
TRACE     | 追踪路径（容易引发 XST 跨站追踪攻击）
CONNECT   | 要求用隧道协议连接代理

- HTTP 协议的初始版本中，没进行一次 HTTP通信 就要断开一次 TCP连接
- 「持久连接」，只要任意一端没有明确提出断开连接，则保持TCP连接状态。
- 持久连接的好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务器的负载， 如此，web页面的显示速度提高。
- 「管线化」能够做到「同时并行」发送多个请求，而不需要一个接一个的等待响应。管线化技术比持久连接更快，请求数越多时间差越明显。
- 无协议状态不必保存状态，可以减少服务器的CPU及内存资源的消耗，协议本身简单才会被应用到各种场景。
- Cookie 技术通过在请求和响应报文中写入 Cookie 信息来控制客户端的状态。
- Cookie会根据从服务器端发送的响应报文内的一个叫做 `Set-Cookie`的首部字段信息，通知客户端保存 Cookie。 当客户端下次再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie值后发送出去。服务器端发现客户端发送过来的 Cookie后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。